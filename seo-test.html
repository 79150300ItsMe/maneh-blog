<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maneh Blog - SEO Testing Tool</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .test-container { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .test-item { margin: 10px 0; padding: 10px; border-left: 4px solid #ddd; }
        .test-pass { border-left-color: #4CAF50; background: #f1f8e9; }
        .test-fail { border-left-color: #f44336; background: #ffebee; }
        .test-warning { border-left-color: #ff9800; background: #fff3e0; }
        .test-title { font-weight: bold; margin-bottom: 5px; }
        .test-desc { color: #666; font-size: 14px; }
        .test-result { margin-top: 5px; font-family: monospace; }
        .summary { background: #2196F3; color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .error { color: #f44336; }
        .success { color: #4CAF50; }
        .warning { color: #ff9800; }
        .seo-score { font-size: 24px; font-weight: bold; margin: 10px 0; }
        .score-excellent { color: #4CAF50; }
        .score-good { color: #8BC34A; }
        .score-fair { color: #FFC107; }
        .score-poor { color: #f44336; }
    </style>
</head>
<body>
    <div class="summary">
        <h1>üîç Maneh Blog - SEO Testing & Analysis</h1>
        <p>Comprehensive SEO testing and optimization analysis...</p>
    </div>

    <div class="test-container">
        <h2>üìä SEO Score</h2>
        <div id="seoScore" class="seo-score">Calculating...</div>
        <div id="seoBreakdown"></div>
    </div>

    <div class="test-container">
        <h2>üîç Meta Tags Analysis</h2>
        <div id="metaResults"></div>
    </div>

    <div class="test-container">
        <h2>üìã Structured Data Analysis</h2>
        <div id="structuredDataResults"></div>
    </div>

    <div class="test-container">
        <h2>üöÄ Performance Analysis</h2>
        <div id="performanceResults"></div>
    </div>

    <div class="test-container">
        <h2>üì± Mobile & Accessibility</h2>
        <div id="mobileResults"></div>
    </div>

    <div class="test-container">
        <h2>üîó Internal Linking</h2>
        <div id="linkingResults"></div>
    </div>

    <div class="test-container">
        <h2>üìà Recommendations</h2>
        <div id="recommendations"></div>
    </div>

    <script>
        let seoScore = 0;
        let maxScore = 100;
        let testResults = [];

        function addTest(category, title, description, status, result = '', points = 0) {
            const test = { category, title, description, status, result, points, timestamp: new Date() };
            testResults.push(test);
            
            if (status === 'pass') seoScore += points;
            else if (status === 'warning') seoScore += points * 0.5;
            
            renderTest(category, test);
        }

        function renderTest(category, test) {
            const container = document.getElementById(category + 'Results');
            if (!container) return;
            
            const div = document.createElement('div');
            div.className = `test-item test-${test.status}`;
            div.innerHTML = `
                <div class="test-title">${test.title} ${test.points > 0 ? `(+${test.points})` : ''}</div>
                <div class="test-desc">${test.description}</div>
                <div class="test-result">${test.result}</div>
            `;
            container.appendChild(div);
        }

        function updateSEOScore() {
            const scoreElement = document.getElementById('seoScore');
            const percentage = Math.round((seoScore / maxScore) * 100);
            
            let scoreClass = 'score-poor';
            if (percentage >= 90) scoreClass = 'score-excellent';
            else if (percentage >= 80) scoreClass = 'score-good';
            else if (percentage >= 70) scoreClass = 'score-fair';
            
            scoreElement.innerHTML = `<span class="${scoreClass}">${percentage}/100</span>`;
            
            // Update breakdown
            const breakdown = document.getElementById('seoBreakdown');
            breakdown.innerHTML = `
                <p><strong>Current Score:</strong> ${seoScore}/${maxScore} points</p>
                <p><strong>Grade:</strong> ${percentage >= 90 ? 'A+' : percentage >= 80 ? 'A' : percentage >= 70 ? 'B' : percentage >= 60 ? 'C' : 'D'}</p>
                <p><strong>Status:</strong> ${percentage >= 80 ? 'Excellent SEO' : percentage >= 70 ? 'Good SEO' : percentage >= 60 ? 'Fair SEO' : 'Needs Improvement'}</p>
            `;
        }

        // Test 1: Meta Tags Analysis
        function testMetaTags() {
            // Title tag
            const title = document.querySelector('title');
            if (title && title.textContent.length > 0) {
                if (title.textContent.length >= 30 && title.textContent.length <= 60) {
                    addTest('meta', 'Title Tag', 'Check title tag length and content', 'pass', 
                        `Title: "${title.textContent}" (${title.textContent.length} chars)`, 5);
                } else {
                    addTest('meta', 'Title Tag', 'Check title tag length and content', 'warning', 
                        `Title: "${title.textContent}" (${title.textContent.length} chars) - Should be 30-60 characters`, 2);
                }
            } else {
                addTest('meta', 'Title Tag', 'Check title tag length and content', 'fail', 'No title tag found', 0);
            }

            // Meta description
            const description = document.querySelector('meta[name="description"]');
            if (description && description.content.length > 0) {
                if (description.content.length >= 120 && description.content.length <= 160) {
                    addTest('meta', 'Meta Description', 'Check meta description length and content', 'pass', 
                        `Description: "${description.content}" (${description.content.length} chars)`, 5);
                } else {
                    addTest('meta', 'Meta Description', 'Check meta description length and content', 'warning', 
                        `Description: "${description.content}" (${description.content.length} chars) - Should be 120-160 characters`, 2);
                }
            } else {
                addTest('meta', 'Meta Description', 'Check meta description length and content', 'fail', 'No meta description found', 0);
            }

            // Keywords
            const keywords = document.querySelector('meta[name="keywords"]');
            if (keywords && keywords.content.length > 0) {
                addTest('meta', 'Meta Keywords', 'Check meta keywords', 'pass', 
                    `Keywords: "${keywords.content}"`, 3);
            } else {
                addTest('meta', 'Meta Keywords', 'Check meta keywords', 'warning', 'No meta keywords found (optional but recommended)', 1);
            }

            // Open Graph tags
            const ogTitle = document.querySelector('meta[property="og:title"]');
            const ogDesc = document.querySelector('meta[property="og:description"]');
            const ogImage = document.querySelector('meta[property="og:image"]');
            const ogUrl = document.querySelector('meta[property="og:url"]');
            
            if (ogTitle && ogDesc && ogImage && ogUrl) {
                addTest('meta', 'Open Graph Tags', 'Check Open Graph meta tags', 'pass', 
                    'All Open Graph tags present', 5);
            } else {
                addTest('meta', 'Open Graph Tags', 'Check Open Graph meta tags', 'fail', 
                    'Missing Open Graph tags', 0);
            }

            // Twitter Card tags
            const twitterCard = document.querySelector('meta[name="twitter:card"]');
            const twitterTitle = document.querySelector('meta[name="twitter:title"]');
            const twitterDesc = document.querySelector('meta[name="twitter:description"]');
            const twitterImage = document.querySelector('meta[name="twitter:image"]');
            
            if (twitterCard && twitterTitle && twitterDesc && twitterImage) {
                addTest('meta', 'Twitter Card Tags', 'Check Twitter Card meta tags', 'pass', 
                    'All Twitter Card tags present', 3);
            } else {
                addTest('meta', 'Twitter Card Tags', 'Check Twitter Card meta tags', 'warning', 
                    'Some Twitter Card tags missing', 1);
            }

            // Canonical URL
            const canonical = document.querySelector('link[rel="canonical"]');
            if (canonical && canonical.href) {
                addTest('meta', 'Canonical URL', 'Check canonical URL', 'pass', 
                    `Canonical: ${canonical.href}`, 3);
            } else {
                addTest('meta', 'Canonical URL', 'Check canonical URL', 'fail', 'No canonical URL found', 0);
            }
        }

        // Test 2: Structured Data Analysis
        function testStructuredData() {
            const jsonLdScripts = document.querySelectorAll('script[type="application/ld+json"]');
            
            if (jsonLdScripts.length > 0) {
                addTest('structuredData', 'JSON-LD Scripts', 'Check for structured data', 'pass', 
                    `${jsonLdScripts.length} JSON-LD script(s) found`, 5);
                
                // Check for specific schema types
                let hasOrganization = false;
                let hasWebSite = false;
                let hasArticle = false;
                
                jsonLdScripts.forEach(script => {
                    try {
                        const data = JSON.parse(script.textContent);
                        if (data['@type'] === 'Organization') hasOrganization = true;
                        if (data['@type'] === 'WebSite') hasWebSite = true;
                        if (data['@type'] === 'Article') hasArticle = true;
                    } catch (e) {
                        console.warn('Invalid JSON-LD:', e);
                    }
                });
                
                if (hasOrganization) {
                    addTest('structuredData', 'Organization Schema', 'Check for Organization structured data', 'pass', 
                        'Organization schema found', 3);
                } else {
                    addTest('structuredData', 'Organization Schema', 'Check for Organization structured data', 'warning', 
                        'Organization schema not found', 1);
                }
                
                if (hasWebSite) {
                    addTest('structuredData', 'WebSite Schema', 'Check for WebSite structured data', 'pass', 
                        'WebSite schema found', 3);
                } else {
                    addTest('structuredData', 'WebSite Schema', 'Check for WebSite structured data', 'warning', 
                        'WebSite schema not found', 1);
                }
                
                if (hasArticle) {
                    addTest('structuredData', 'Article Schema', 'Check for Article structured data', 'pass', 
                        'Article schema found', 3);
                } else {
                    addTest('structuredData', 'Article Schema', 'Check for Article structured data', 'info', 
                        'Article schema not found (normal for home page)', 0);
                }
            } else {
                addTest('structuredData', 'JSON-LD Scripts', 'Check for structured data', 'fail', 
                    'No JSON-LD scripts found', 0);
            }
        }

        // Test 3: Performance Analysis
        function testPerformance() {
            // Check for preload hints
            const preloadLinks = document.querySelectorAll('link[rel="preload"]');
            if (preloadLinks.length > 0) {
                addTest('performance', 'Resource Preloading', 'Check for preload hints', 'pass', 
                    `${preloadLinks.length} preload hint(s) found`, 3);
            } else {
                addTest('performance', 'Resource Preloading', 'Check for preload hints', 'warning', 
                    'No preload hints found', 1);
            }

            // Check for DNS prefetch
            const dnsPrefetch = document.querySelectorAll('link[rel="dns-prefetch"]');
            if (dnsPrefetch.length > 0) {
                addTest('performance', 'DNS Prefetch', 'Check for DNS prefetch hints', 'pass', 
                    `${dnsPrefetch.length} DNS prefetch hint(s) found`, 2);
            } else {
                addTest('performance', 'DNS Prefetch', 'Check for DNS prefetch hints', 'warning', 
                    'No DNS prefetch hints found', 0);
            }

            // Check for font optimization
            const fontLinks = document.querySelectorAll('link[href*="fonts.googleapis.com"]');
            let hasFontOptimization = false;
            fontLinks.forEach(link => {
                if (link.media === 'print' && link.onload) {
                    hasFontOptimization = true;
                }
            });
            
            if (hasFontOptimization) {
                addTest('performance', 'Font Optimization', 'Check for font loading optimization', 'pass', 
                    'Fonts optimized with print media and onload', 3);
            } else {
                addTest('performance', 'Font Optimization', 'Check for font loading optimization', 'warning', 
                    'Fonts not optimized', 1);
            }

            // Check for image optimization
            const images = document.querySelectorAll('img');
            let optimizedImages = 0;
            images.forEach(img => {
                if (img.loading === 'lazy' && img.decoding === 'async') {
                    optimizedImages++;
                }
            });
            
            if (images.length > 0) {
                const optimizationRatio = optimizedImages / images.length;
                if (optimizationRatio >= 0.8) {
                    addTest('performance', 'Image Optimization', 'Check for image loading optimization', 'pass', 
                        `${optimizedImages}/${images.length} images optimized`, 3);
                } else {
                    addTest('performance', 'Image Optimization', 'Check for image loading optimization', 'warning', 
                        `${optimizedImages}/${images.length} images optimized`, 1);
                }
            }
        }

        // Test 4: Mobile & Accessibility
        function testMobileAccessibility() {
            // Viewport meta tag
            const viewport = document.querySelector('meta[name="viewport"]');
            if (viewport && viewport.content.includes('width=device-width')) {
                addTest('mobile', 'Viewport Meta Tag', 'Check for responsive viewport', 'pass', 
                    'Viewport meta tag configured correctly', 3);
            } else {
                addTest('mobile', 'Viewport Meta Tag', 'Check for responsive viewport', 'fail', 
                    'Viewport meta tag missing or incorrect', 0);
            }

            // Language attribute
            const htmlLang = document.documentElement.lang;
            if (htmlLang) {
                addTest('mobile', 'Language Attribute', 'Check for language attribute', 'pass', 
                    `Language: ${htmlLang}`, 2);
            } else {
                addTest('mobile', 'Language Attribute', 'Check for language attribute', 'warning', 
                    'No language attribute found', 1);
            }

            // Theme color
            const themeColor = document.querySelector('meta[name="theme-color"]');
            if (themeColor) {
                addTest('mobile', 'Theme Color', 'Check for theme color', 'pass', 
                    `Theme color: ${themeColor.content}`, 2);
            } else {
                addTest('mobile', 'Theme Color', 'Check for theme color', 'warning', 
                    'No theme color found', 0);
            }

            // Check for alt attributes on images
            const images = document.querySelectorAll('img');
            let imagesWithAlt = 0;
            images.forEach(img => {
                if (img.alt && img.alt.trim().length > 0) {
                    imagesWithAlt++;
                }
            });
            
            if (images.length > 0) {
                const altRatio = imagesWithAlt / images.length;
                if (altRatio >= 0.8) {
                    addTest('mobile', 'Image Alt Text', 'Check for image alt attributes', 'pass', 
                        `${imagesWithAlt}/${images.length} images have alt text`, 3);
                } else {
                    addTest('mobile', 'Image Alt Text', 'Check for image alt attributes', 'warning', 
                        `${imagesWithAlt}/${images.length} images have alt text`, 1);
                }
            }
        }

        // Test 5: Internal Linking
        function testInternalLinking() {
            const links = document.querySelectorAll('a[href]');
            let internalLinks = 0;
            let externalLinks = 0;
            
            links.forEach(link => {
                const href = link.href;
                if (href.includes('maneh.blog') || href.startsWith('/') || href.startsWith('#')) {
                    internalLinks++;
                } else if (href.startsWith('http')) {
                    externalLinks++;
                }
            });
            
            if (internalLinks > 0) {
                addTest('linking', 'Internal Links', 'Check for internal linking', 'pass', 
                    `${internalLinks} internal link(s) found`, 3);
            } else {
                addTest('linking', 'Internal Links', 'Check for internal linking', 'warning', 
                    'No internal links found', 1);
            }
            
            if (externalLinks > 0) {
                addTest('linking', 'External Links', 'Check for external linking', 'pass', 
                    `${externalLinks} external link(s) found`, 2);
            } else {
                addTest('linking', 'External Links', 'Check for external linking', 'info', 
                    'No external links found', 0);
            }
        }

        // Generate recommendations
        function generateRecommendations() {
            const recommendations = [];
            
            // Analyze test results
            const failedTests = testResults.filter(t => t.status === 'fail');
            const warningTests = testResults.filter(t => t.status === 'warning');
            
            if (failedTests.length > 0) {
                recommendations.push({
                    priority: 'high',
                    title: 'Critical Issues',
                    description: `Fix ${failedTests.length} critical SEO issue(s)`,
                    items: failedTests.map(t => t.title)
                });
            }
            
            if (warningTests.length > 0) {
                recommendations.push({
                    priority: 'medium',
                    title: 'Improvements',
                    description: `Address ${warningTests.length} SEO improvement(s)`,
                    items: warningTests.map(t => t.title)
                });
            }
            
            // Add general recommendations
            recommendations.push({
                priority: 'low',
                title: 'General SEO Tips',
                description: 'Additional recommendations for better SEO',
                items: [
                    'Add more internal links between related articles',
                    'Optimize images with proper alt text and compression',
                    'Consider adding a blog sitemap',
                    'Monitor Core Web Vitals regularly',
                    'Add social media sharing buttons',
                    'Consider implementing AMP for mobile'
                ]
            });
            
            // Render recommendations
            const container = document.getElementById('recommendations');
            recommendations.forEach(rec => {
                const div = document.createElement('div');
                div.className = `test-item test-${rec.priority === 'high' ? 'fail' : rec.priority === 'medium' ? 'warning' : 'pass'}`;
                div.innerHTML = `
                    <div class="test-title">${rec.title} (${rec.priority.toUpperCase()})</div>
                    <div class="test-desc">${rec.description}</div>
                    <div class="test-result">
                        <ul>
                            ${rec.items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // Run all tests
        function runAllTests() {
            // Clear previous results
            document.querySelectorAll('[id$="Results"]').forEach(el => el.innerHTML = '');
            testResults = [];
            seoScore = 0;
            
            // Run tests
            testMetaTags();
            testStructuredData();
            testPerformance();
            testMobileAccessibility();
            testInternalLinking();
            
            // Update score and generate recommendations
            updateSEOScore();
            generateRecommendations();
        }

        // Auto-run tests on page load
        window.addEventListener('load', function() {
            setTimeout(runAllTests, 1000);
        });
    </script>
</body>
</html>
